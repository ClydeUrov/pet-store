"use strict";(self.webpackChunkpet_store=self.webpackChunkpet_store||[]).push([[511],{5511:function(s,e,a){a.r(e),a.d(e,{default:function(){return S}});var n=a(9439),r=a(2791),l="UserPasswordChange_button__kUWX4",i="UserInfo_title__uTBYz",t="UserInfo_form__7GwCl",o="UserInfo_passwordInp__QTtOk",c="UserInfo_passwordCont__84+cL",d="UserInfo_lblFroInput__5peZO",m="UserInfo_inputElem__wcont",u="UserInfo_errorMess__HVG+0",p="UserInfo_errInp__pHOd7",h="UserInfo_button__2pym4",f="UserInfo_item__btn__o0GNj",N="UserInfo_list__btn__tGI4k",x="UserInfo_btn__icon__8KaPY",j=a(6355),w=a(5705),_=a(3501),b=a(1745),g=a(9085),I=a(184);var C=function(){var s=(0,r.useState)(!1),e=(0,n.Z)(s,2),a=e[0],i=e[1],x=(0,r.useState)(!1),C=(0,n.Z)(x,2),P=C[0],v=C[1],y=(0,r.useState)(!1),S=(0,n.Z)(y,2),U=S[0],k=S[1],B=(0,r.useState)(!1),F=(0,n.Z)(B,2),z=F[0],Z=F[1],q=(0,b._y)().editPassword,O=(0,b.PR)().email,T=(0,w.TA)({initialValues:{oldPassword:"",password:"",confirm:""},validationSchema:_.l0,onSubmit:function(s){if(A.password===A.oldPassword)throw new Error("New password must be different from old");A.password===A.confirm&&g.Am.promise(q({email:O,currentPassword:A.oldPassword,newPassword:A.password}),{pending:"Password changing in progress",success:"Password was changed",error:"Password not change, try again"}),M()}}),A=T.values,E=T.errors,G=T.handleSubmit,R=T.handleReset,V=T.handleChange,H=T.touched,L=T.handleBlur;function M(){i(!1),R()}return(0,I.jsx)("form",{onSubmit:G,className:t,children:a?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("label",{className:d,htmlFor:"passwordInpOld",children:"Old password"}),E.oldPassword&&H.oldPassword?(0,I.jsx)("p",{className:u,children:E.oldPassword}):"",(0,I.jsxs)("div",{className:c,children:[(0,I.jsx)("input",{onChange:V,id:"passwordInpOld",onBlur:L,className:m+" "+o+" "+"".concat(E.password?p:""),name:"oldPassword",value:A.oldPassword,type:U?"text":"password",required:!0}),(0,I.jsx)("i",{onClick:function(){return k((function(s){return!s}))},children:U?(0,I.jsx)(j.tjB,{size:28}):(0,I.jsx)(j.z5B,{size:28})})]}),(0,I.jsx)("label",{className:d,htmlFor:"passwordInp",children:"New password"}),E.password&&H.password?(0,I.jsx)("p",{className:u,children:E.password}):"",(0,I.jsxs)("div",{className:c,children:[(0,I.jsx)("input",{onChange:V,id:"passwordInp",onBlur:L,className:m+" "+o+" "+"".concat(E.password?p:""),name:"password",value:A.password,type:P?"text":"password",required:!0}),(0,I.jsx)("i",{onClick:function(){return v((function(s){return!s}))},children:P?(0,I.jsx)(j.tjB,{size:28}):(0,I.jsx)(j.z5B,{size:28})})]}),(0,I.jsx)("label",{className:d,htmlFor:"passwordInpConf",children:"Confirm new password"}),E.confirm&&H.confirm?(0,I.jsx)("p",{className:u,children:E.confirm}):"",(0,I.jsxs)("div",{className:c,children:[(0,I.jsx)("input",{onChange:V,onBlur:L,name:"confirm",className:m+" ".concat(E.confirm?p:""),id:"passwordInpConf",type:z?"text":"password",value:A.confirm,required:!0}),(0,I.jsx)("i",{onClick:function(){return Z((function(s){return!s}))},children:z?(0,I.jsx)(j.tjB,{size:28}):(0,I.jsx)(j.z5B,{size:28})})]}),(0,I.jsxs)("ul",{className:N,children:[(0,I.jsx)("li",{className:f,children:(0,I.jsx)("button",{type:"submit",className:h,children:"Confirm"})}),(0,I.jsx)("li",{className:f,children:(0,I.jsx)("button",{type:"button",className:h,onClick:M,children:"Cancel"})})]})]}):(0,I.jsx)("button",{className:l,onClick:function(){return i((function(s){return!s}))},children:"Change Password"})})},P=a(1413),v=a(5763),y=function(){var s=(0,r.useState)(!0),e=(0,n.Z)(s,2),a=e[0],l=e[1],o=(0,b._y)().editProfile,c=(0,b.PR)(),j=(0,w.TA)({initialValues:{firstName:c.firstName,lastName:c.lastName,email:c.email},validationSchema:_.v7,onSubmit:function(s){try{console.log(s,"SUBMIT"),g.Am.promise(o({firstName:C.firstName,lastName:C.lastName},(0,P.Z)((0,P.Z)({},c),{},{firstName:C.firstName,lastName:C.lastName})),{pending:"Personal information changing in progress",success:"Personal information was changed",error:"Personal information not changed, try again"})}catch(s){console.log(s)}finally{B()}}}),C=j.values,y=j.errors,S=j.handleChange,U=j.handleSubmit,k=j.handleReset,B=function(){l(!a)};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("h3",{className:i,children:"Personal information"}),(0,I.jsxs)("form",{className:t,onSubmit:U,children:[(0,I.jsx)("label",{className:d,htmlFor:"firstNameInp",children:"First Name"}),y.firstName&&(0,I.jsx)("p",{className:u,children:y.firstName}),(0,I.jsx)("input",{className:m+" ".concat(y.firstName?p:""),id:"firstNameInp",name:"firstName",type:"text",disabled:a,value:C.firstName,onChange:S,required:!0}),(0,I.jsx)("label",{className:d,htmlFor:"lstNameInp",children:"Surname"}),y.lastName&&(0,I.jsx)("p",{className:u,children:y.lastName}),(0,I.jsx)("input",{id:"lstNameInp",className:m+" ".concat(y.lastName?p:""),name:"lastName",type:"text",value:C.lastName,disabled:a,onChange:S,required:!0}),(0,I.jsx)("label",{className:d,htmlFor:"emailInp",children:"E-mail"}),y.email&&(0,I.jsx)("p",{className:u,children:y.email}),(0,I.jsx)("input",{id:"emailInp",className:m+" ".concat(y.email?p:""),name:"email",type:"email",value:C.email,disabled:!0,onChange:S,required:!0}),a?(0,I.jsxs)("button",{type:"button",onClick:B,className:h,children:["Edit",(0,I.jsx)(v.LBv,{size:20,className:x})]}):(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)("ul",{className:N,children:[(0,I.jsx)("li",{className:f,children:(0,I.jsx)("button",{type:"submit",className:h,children:"Confirm"})}),(0,I.jsx)("li",{className:f,children:(0,I.jsx)("button",{type:"button",onClick:function(){return k(),void B()},className:h,children:"Cancel"})})]})})]})]})},S=function(){return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(y,{}),(0,I.jsx)(C,{})]})}}}]);
//# sourceMappingURL=511.fcd255fb.chunk.js.map